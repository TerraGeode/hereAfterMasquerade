// room script file

function room_LeaveLeft()
{
  player.ChangeRoom(1, 3528, 1800);
}

function room_LeaveRight()
{
  player.ChangeRoom(4,  300,  1800);
}

function oFountain_Interact(Object *theObject, CursorMode mode)
{
  if (fountainPuzzle == 2) {
    if (player == cGhost) {
      player.ChangeRoom(5,  3164, 1800);
    } else {
      cLive.Say("I don't think I can get down there right now.");
    }
  } else {
    Display("The fountain is still broken.");
  }
}

function oFountain_Look(Object *theObject, CursorMode mode)
{
  if (fountainPuzzle == 2) {
    player.Walk(1632, 1832, eBlock, eWalkableAreas);
    Display("While the key does not seem to be immediately visible, it does seem there is something down below.");
    cGhost.Say("Maybe I can go take a look.");
  } else {
    Display("The fountain is still broken.");
  }
}

function room_AfterFadeIn()
{
 if (fountainPuzzle == 0) {
   dDialog1.Start();
   fountainPuzzle = 1;
 }
}

function hHotspot1_Interact(Hotspot *theHotspot, CursorMode mode)
{
  player.Walk(280, 1740);
  if (player == cLive) {
    cLive.ChangeRoom(1, 3320, 1748);
    cGhost.ChangeRoom(1, 3420, 1748);
  } else {
    player.ChangeRoom(1, 3320, 1748);
  }
}

function hPark_WalkOn(Hotspot *theHotspot)
{
  if (player == cLive) {
    cLive.ChangeRoom(7, 250, 1800);
    cGhost.ChangeRoom(7, 250, 1700);
  } else {
    player.ChangeRoom(7, 250, 1800);
  }
}

function hHotspot3_Interact(Hotspot *theHotspot, CursorMode mode)
{
  player.Walk(3230, 1730);
  if (player == cLive) {
    cLive.ChangeRoom(4, 250, 2000);
    cGhost.ChangeRoom(4, 250, 1800);
  } else {
    player.ChangeRoom(4, 250, 2000);
  }
}

function hHotspot4_Interact(Hotspot *theHotspot, CursorMode mode)
{
  player.Walk(2244, 1668, eBlock);
  if (player == cLive) {
    cLive.ChangeRoom(7, 250, 1800);
    cGhost.ChangeRoom(7, 250, 1700);
  } else {
    player.ChangeRoom(7, 250, 1800);
  }
}
