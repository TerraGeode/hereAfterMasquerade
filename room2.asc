// room script file

function room_LeaveLeft()
{
  if (player == cLive) {
    cLive.ChangeRoom(1, 2864, 1732);
    cGhost.ChangeRoom(2, 2864, 1732);
    
    if (cDog.Room == 2) {
      cDog.ChangeRoom(2, 2864, 1732);
    }
  } else {
    player.ChangeRoom(2, 2864, 1732);
  }
}

function room_AfterFadeIn()
{
  if (player == cLive && dogGame == 7) {
    dBathroom1.Start();
    dogGame = 8;
  }
}

function hShower_Interact(Hotspot *theHotspot, CursorMode mode)
{
  if (player == cLive && dogGame == 8) {
    player.Walk(796, 1804, eBlock);
    Display("After a few moments, Alice finishes giving Russel a bath.");
    cLive.Walk(1772, 1900, eBlock);
    cLive.Say("There we are, all clean.");
    cLive.Say("Now let's see what you left in my toilet.");
    if (!cLive.HasInventory(iPlunger)) {
      cLive.Say("Or we should probably get a new one from the store...");
    }
  }
  dogGame = 9;
}

function hToilet_UseInv(Hotspot *theHotspot, CursorMode mode)
{
  if (player.ActiveInventory == iPlunger && dogGame == 9) {
    Display("After a quick moment, you find what was left in the toilet.");
    cLive.Say("Hey, it's the last piece of the medal.");
    cLive.AddInventory(iMedalC);
    dogGame = 10;
  }
}
